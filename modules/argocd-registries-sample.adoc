// Module included in the following assemblies:
//
// * scalability_and_performance/using-argocd.adoc

[id="argocd-registries-sample_{context}"]
= Registries

You can use ArgoCD to deploy a global image registry configuration. The `./image` directory contains an example global image configuration that sets the `allowedRegistriesForImport` parameter to limit the container image registries from which normal users can import images to only `quay.io`.

.ArgoCD image registry configuration sample (`image.yaml`)
----
---
apiVersion: config.openshift.io/v1
kind: Image
metadata:
  annotations:
    release.openshift.io/create-only: "true"
  name: cluster
spec:
  allowedRegistriesForImport:
    - domainName: quay.io
      insecure: false
status:
  internalRegistryHostname: image-registry.openshift-image-registry.svc:5000
----

.Procedure

. Create the `image-config` application in ArgoCD:
+
----
$ argocd app create image-config --repo https://github.com/<account_name>/openshift4-gitops.git --path=image --dest-server=https://kubernetes.default.svc --dest-namespace=openshift-config <1>
$ argocd app sync image-config
----
<1> `<account_name>` is the name of the GitHub account or organization that you cloned the repository to.
