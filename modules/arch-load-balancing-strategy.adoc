// Module included in the following assemblies:
//
// * architecture/networking.adoc

[id='load-balancing-strategy-{context}']
= Load-balancing Strategy

When a route has multiple endpoints, HAProxy distributes requests to the route
among the endpoints based on the selected load-balancing strategy. This applies
when no persistence information is available, such
as on the first request in a session.

The strategy can be one of the following:

- `roundrobin`: Each endpoint is used in turn, according to its weight.
This is the smoothest and fairest algorithm when the server's
processing time remains equally distributed.
- `leastconn`: The endpoint with the lowest number of connections receives the
request. Round-robin is performed when multiple endpoints have the same lowest
number of connections. Use this algorithm when very long sessions are
expected, such as LDAP, SQL, TSE, or others. Not intended to be used
with protocols that typically use short sessions such as HTTP.
- `source`: The source IP address is hashed and divided by the total
weight of the running servers to designate which server will
receive the request. This ensures that the same client IP
address will always reach the same server as long as no
server goes down or up. If the hash result changes due to the
number of running servers changing, many clients will be
directed to different servers. This algorithm is generally
used with passthrough routes.