// Module included in the following assemblies:
//
// * architecture/networking.adoc

[id='haproxy-strict-sni-{context}']
= HAProxy Strict SNI

By default, when a host does not resolve to a route in a HTTPS or TLS SNI
request, the default certificate is returned to the caller as part of the `503`
response. This exposes the default certificate and can pose security concerns
because the wrong certificate is served for a site. The HAProxy `strict-sni`
option to bind suppresses use of the default certificate.

The `ROUTER_STRICT_SNI` environment variable controls bind processing. When set
to `true` or `TRUE`, `strict-sni` is added to the HAProxy bind. The default
setting is `false`.