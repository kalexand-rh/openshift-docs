// Module included in the following assemblies:
//
// * architecture/kubernetes.adoc

[id='api-objects-other-{context}']
= Other API objects

[id='api-objects-limitrange-{context}']
== LimitRange

A limit range provides a mechanism to enforce min/max limits placed on resources
in a Kubernetes namespace.

By adding a limit range to your namespace, you can enforce the minimum and
maximum amount of CPU and Memory consumed by an individual pod or container.

[id='api-objects-resourcequota-{context}']
== ResourceQuota

Kubernetes can limit both the number of objects created in a namespace, and the
total amount of resources requested across objects in a namespace. This
facilitates sharing of a single Kubernetes cluster by several teams, each in a
namespace, as a mechanism of preventing one team from starving another team of
cluster resources.

[id='api-objects-resource-{context}']
== Resource

A Kubernetes `Resource` is something that can be requested by, allocated to,
or consumed by a pod or container. Examples include memory (RAM), CPU,
disk-time, and network bandwidth.

[id='api-objects-secret-{context}']
== Secret

Secrets are storage for sensitive
information, such as keys, passwords, and certificates. They are accessible by
the intended pod(s), but held separately from their definitions.

[id='api-objects-pv-{context}']
== PersistentVolume

A PersistentVolume is an object
(`PersistentVolume`) in the infrastructure provisioned by the cluster
administrator. Persistent volumes provide durable storage for stateful
applications.

[id='api-objects-pvc-{context}']
== PersistentVolumeClaim

A `PersistentVolumeClaim` object is a request for storage by a pod
author. Kubernetes matches the claim against the pool of available volumes and
binds them together. The claim is then used as a volume by a pod. Kubernetes
makes sure the volume is available on the same node as the pod that requires it.

[id='api-objects-cr-{context}']
=== Custom Resources

A _custom resource_ is an extension of the Kubernetes API that extends the API or allows you to
introduce your own API into a project or a cluster.

[id='api-objects-oauth-objects-{context}']
== OAuth Objects

[id='api-objects-oauthclient-{context}']
=== OAuthClient
An `OAuthClient` represents an OAuth client, as described in
https://tools.ietf.org/html/rfc6749#section-2[RFC 6749, section 2].

The following `OAuthClient` objects are automatically created:

[horizontal]
`openshift-web-console`:: Client used to request tokens for the web console
`openshift-browser-client`:: Client used to request tokens at `/oauth/token/request` with a user-agent that can handle interactive logins
`openshift-challenging-client`:: Client used to request tokens with a user-agent that can handle WWW-Authenticate challenges

[id='api-objects-oauthclientauthorization-{context}']
=== OAuthClientAuthorization
An `OAuthClientAuthorization` represents an approval by a `User` for a
particular `OAuthClient` to be given an `OAuthAccessToken` with particular
scopes.

Creation of `OAuthClientAuthorization` objects is done during an
authorization request to the `OAuth` server.

[id='api-objects-oauthauthorizetoken-{context}']
=== OAuthAuthorizeToken
An `OAuthAuthorizeToken` represents an `OAuth` authorization code, as
described in https://tools.ietf.org/html/rfc6749#section-1.3.1[RFC 6749, section
1.3.1].

An `OAuthAuthorizeToken` is created by a request to the /oauth/authorize endpoint,
as described in https://tools.ietf.org/html/rfc6749#section-4.1.1[RFC 6749,
section 4.1.1].

An `OAuthAuthorizeToken` can then be used to obtain an `OAuthAccessToken`
with a request to the */oauth/token* endpoint, as described in
https://tools.ietf.org/html/rfc6749#section-4.1.3[RFC 6749, section 4.1.3].

[id='api-objects-oauthaccesstoken-{context}']
=== OAuthAccessToken
An `OAuthAccessToken` represents an `OAuth` access token, as described in
https://tools.ietf.org/html/rfc6749#section-1.4[RFC 6749, section 1.4].

An `OAuthAccessToken` is created by a request to the */oauth/token* endpoint,
as described in https://tools.ietf.org/html/rfc6749#section-4.1.3[RFC 6749,
section 4.1.3].

Access tokens are used as bearer tokens to authenticate to the API.

[id='api-objects-user-objects-{context}']
== User Objects

[id='api-objects-identity-{context}']
=== Identity
When a user logs into {product-title}, they do so using a configured identity
provider. This determines the user's identity, and provides that information to
{product-title}.

{product-title} then looks for a `UserIdentityMapping` for that `Identity`:

ifdef::openshift-enterprise,openshift-origin[]
[NOTE]
====
If the identity provider is configured with the `lookup` mapping method, for example,
if you are using an external LDAP system, this automatic mapping is not performed.
You must create the mapping manually.
====
endif::openshift-enterprise,openshift-origin[]

- If the `Identity` already exists, but is not mapped to a `User`, login
fails.
- If the `Identity` already exists, and is mapped to a `User`, the user is
given an `OAuthAccessToken` for the mapped `User`.
- If the `Identity` does not exist, an `Identity`, `User`, and
`UserIdentityMapping` are created, and the user is given an
`OAuthAccessToken` for the mapped `User`.

[id='api-objects-user-{context}']
=== User
A `User` represents an actor in the system. Users are granted permissions by
adding roles to users or to their groups.

User objects are created automatically on first login, or can be created via the
API.

[NOTE]
====
{product-title} user names containing `/`, `:`, and `%` are not supported.
====

[id='api-objects-useridentitymapping-{context}']
=== UserIdentityMapping
A `UserIdentityMapping` maps an `Identity` to a `User`.

Creating, updating, or deleting a `UserIdentityMapping` modifies the
corresponding fields in the `Identity` and  `User` objects.

An `Identity` can only map to a single `User`, so logging in as a particular
identity unambiguously determines the `User`.

A `User` can have multiple identities mapped to it. This allows multiple login
methods to identify the same `User`.

[id='api-objects-group-{context}']
=== Group
A `Group` represents a list of users in the system. Groups are granted permissions by
adding roles to users or to their groups.