// Module included in the following assemblies:
//
// * installing/installing_aws_user_infra/uninstalling-cluster-aws-user-infra.adoc

[id="installation-uninstall-aws-user-infra_{context}"]
= Removing a cluster from AWS that uses CloudFormation templates

You can remove a cluster that you installed on Amazon Web Services (AWS) by
using CloudFormation templates.

.Prerequisites

* Download the AWS CLI and install it on your computer. See
link:https://docs.aws.amazon.com/cli/latest/userguide/install-bundle.html[Install the AWS CLI Using the Bundled Installer (Linux, macOS, or Unix)]
in the AWS documentation.
* If you used CloudFormation templates, you have a list of the CloudFormation
stacks that you created for your cluster.

.Procedure

* Delete all of the cluster resources. If you used the CloudFormation templates,
link:https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-delete-stack.html[delete their stacks]:
+
----
$ aws cloudformation delete-stack --stack-name <name> <1>
----
<1> `<name>` is the name of a stack.
+
If you used the provided CloudFormation templates, you must delete the
stacks that control the following components:
** The VPC.
** The networking and load balancing resources.
** The security groups and roles.
** The bootstrap machine, if you did not delete it during cluster initialization.
** The control plane machines.
** The worker machines. Remember that each worker machine has a separate stack.
