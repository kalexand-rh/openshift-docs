// Module included in the following assemblies:
//
// * scalability_and_performance/using-argocd.adoc

[id="argocd-operator-sample_{context}"]
== Operator Hub Operator

You can use ArgoCD to deploy an Operator from link:https://operatorhub.io/[[Operator Hub] by creating `OperatorGroup` and `Subscription` objects for each Operator. The `./grafana-operator` directory contains an example configuration that deploys the link:https://operatorhub.io/operator/grafana-operator[Grafana Operator] in your cluster.

.ArgoCD Grafana Operator configuration sample (`grafana-operator.yaml`)
----
apiVersion: v1
kind: Namespace
metadata:
  name: my-grafana-operator
---
apiVersion: operators.coreos.com/v1alpha2
kind: OperatorGroup
metadata:
  name: operatorgroup
  namespace: my-grafana-operator
spec:
  targetNamespaces:
  - my-grafana-operator
---
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: my-grafana-operator
  namespace: my-grafana-operator
spec:
  channel: alpha
  name: grafana-operator
  source: community-operators
  sourceNamespace: openshift-marketplace
----

.Procedure

. Create the `grafana-operator` application in ArgoCD:
+
----
$ argocd app create grafana-operator --repo https://github.com/<account_name>/openshift4-gitops.git --path=grafana-operator --dest-server=https://kubernetes.default.svc --dest-namespace=default <1>
$ argocd app sync grafana-operator
----
<1> `<account_name>` is the name of the GitHub account or organization that you cloned the repository to.
